/* ===== Layout Templates ===== */

/* Desktop Side Layout: GnbSide + optional LNB + Content + optional Detail */
.layout-desktop-side {
  display: grid;
  grid-template-columns: var(--icon-sidebar-width) auto 1fr auto;
  grid-template-rows: var(--header-height) 1fr;
  grid-template-areas:
    "header header header header"
    "sidebar lnb content detail";
  height: 100vh;
  width: 100%;
  overflow: hidden;
}
.layout-desktop-side > .top-header { grid-area: header; }
.layout-desktop-side > .icon-sidebar { grid-area: sidebar; height: 100%; }
.layout-desktop-side > .left-panel { grid-area: lnb; height: 100%; }
.layout-desktop-side > .task-list-section,
.layout-desktop-side > .data-table-section,
.layout-desktop-side > .main-content-area { grid-area: content; overflow: hidden; }
.layout-desktop-side > .detail-panel { grid-area: detail; height: 100%; border-left: 1px solid var(--border); }

/* When LNB is hidden */
.layout-desktop-side.no-lnb {
  grid-template-columns: var(--icon-sidebar-width) 1fr auto;
  grid-template-areas:
    "header header header"
    "sidebar content detail";
}

/* When Detail is hidden */
.layout-desktop-side.no-detail {
  grid-template-columns: var(--icon-sidebar-width) auto 1fr;
  grid-template-areas:
    "header header header"
    "sidebar lnb content";
}
.layout-desktop-side.no-lnb.no-detail {
  grid-template-columns: var(--icon-sidebar-width) 1fr;
  grid-template-areas:
    "header header"
    "sidebar content";
}

/* Desktop Top Layout: Header (with GNB top) + optional LNB + Content + optional Detail */
.layout-desktop-top {
  display: grid;
  grid-template-columns: auto 1fr auto;
  grid-template-rows: var(--header-height) 1fr;
  grid-template-areas:
    "header header header"
    "lnb content detail";
  height: 100vh;
  width: 100%;
  overflow: hidden;
}
.layout-desktop-top > .top-header { grid-area: header; }
.layout-desktop-top > .left-panel { grid-area: lnb; height: 100%; }
.layout-desktop-top > .task-list-section,
.layout-desktop-top > .data-table-section,
.layout-desktop-top > .main-content-area { grid-area: content; overflow: hidden; }
.layout-desktop-top > .detail-panel { grid-area: detail; height: 100%; border-left: 1px solid var(--border); }

.layout-desktop-top.no-lnb {
  grid-template-columns: 1fr auto;
  grid-template-areas:
    "header header"
    "content detail";
}
.layout-desktop-top.no-detail {
  grid-template-columns: auto 1fr;
  grid-template-areas:
    "header header"
    "lnb content";
}
.layout-desktop-top.no-lnb.no-detail {
  grid-template-columns: 1fr;
  grid-template-areas:
    "header"
    "content";
}

/* Mobile Layout */
.layout-mobile {
  display: flex;
  flex-direction: column;
  height: 100vh;
  width: 100%;
  max-width: 375px;
  overflow: hidden;
  background: var(--bg-white);
  position: relative;
}
.layout-mobile > .top-header {
  flex-shrink: 0;
}
.layout-mobile > .task-list-section,
.layout-mobile > .data-table-section,
.layout-mobile > .main-content-area {
  flex: 1;
  overflow-y: auto;
}
.layout-mobile > .mobile-tab-bar {
  flex-shrink: 0;
  position: relative;
}

/* Mobile LNB Slide */
.layout-mobile > .left-panel {
  position: absolute;
  left: 0;
  top: var(--header-height);
  bottom: 56px;
  width: 85%;
  max-width: 300px;
  z-index: 60;
  transform: translateX(-100%);
  transition: transform 0.25s ease;
  box-shadow: 2px 0 8px rgba(0,0,0,0.1);
}
.layout-mobile > .left-panel.open {
  transform: translateX(0);
}
.layout-mobile > .mobile-overlay {
  position: absolute;
  inset: 0;
  background: rgba(0,0,0,0.3);
  z-index: 50;
  display: none;
}
.layout-mobile > .mobile-overlay.active {
  display: block;
}
